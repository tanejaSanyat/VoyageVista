{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{useAuth}from\"../../components/Context/AuthContext\";import Sidebar from\"../../components/Dashboard/Sidebar\";import Message from\"../../components/Message/Message\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const axios=require(\"axios\");const UpdateTour=()=>{const[data,setData]=useState();const[message,setMessage]=useState(\"\");const[isLoading,setLoading]=useState(true);const{currentUser}=useAuth();const{id}=useParams();const onChange=e=>{setData({...data,[e.target.name]:e.target.value});};useEffect(()=>{axios.get(\"https://shocking-cheateau-10764.herokuapp.com/tour/\".concat(id)).then(result=>{if(result.data){//   console.log(result.data);\nsetData(result.data);setLoading(false);//stop loading when data is fetched\n}}).catch(error=>console.log(error));},[id]);const create_by=currentUser.displayName||currentUser.email;const create_at=new Date().toLocaleDateString();const handleSubmit=e=>{e.preventDefault();data.create_by=create_by;data.create_at=create_at;// insert tour data\naxios.put(\"https://shocking-cheateau-10764.herokuapp.com/update-tour/\".concat(id),data).then(result=>{if(result.data.modifiedCount>0){setMessage(\"Tour Package updated success!\");}}).catch(error=>console.log(error));};return/*#__PURE__*/_jsx(\"div\",{className:\"container \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"bg-gray-100 w-full mb-16\",children:[message&&/*#__PURE__*/_jsx(\"div\",{className:\"md:w-2/4 py-4 px-8 float-right\",children:/*#__PURE__*/_jsx(Message,{message:message})}),/*#__PURE__*/_jsx(\"header\",{className:\"px-8 py-8\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 border-t-4 border-b-4 border-green-900 rounded-full animate-spin\"})}):/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-semibold capitalize\",children:[\"Update Tour Package: \",data===null||data===void 0?void 0:data.title]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"py-4 flex px-8 justify-between items-center focus:outline-none\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-black\",htmlFor:\"title\",children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\",placeholder:\"Enter Tour Title\",value:data===null||data===void 0?void 0:data.title,onChange:onChange,name:\"title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-4 flex px-8 justify-between items-center focus:outline-none\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-black\",htmlFor:\"tour_date\",children:\"Tour Date:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\",type:\"date\",value:data===null||data===void 0?void 0:data.tour_date,onChange:onChange,name:\"tour_date\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-4 flex px-8 justify-between items-center focus:outline-none\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-black\",htmlFor:\"image_url\",children:\"Image url:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\",type:\"url\",placeholder:\"Enter tour related image url\",value:data===null||data===void 0?void 0:data.image_url,onChange:onChange,name:\"image_url\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-4 flex px-8 justify-between items-center focus:outline-none\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-black\",htmlFor:\"description\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"rounded-md md:w-3/4 focus:outline-none float-right px-4 mb-4 py-2\",rows:\"4\",placeholder:\"Description about tour\",value:data===null||data===void 0?void 0:data.description,onChange:onChange,name:\"description\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-4 flex px-8 justify-between items-center focus:outline-none\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-black\",htmlFor:\"package_price\",children:\"Package price:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\",type:\"number\",placeholder:\"Package price\",value:data===null||data===void 0?void 0:data.package_price,onChange:onChange,name:\"package_price\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-4 flex px-8 justify-between items-center focus:outline-none\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-black\",htmlFor:\"package_price\",children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",id:\"status\",className:\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\",value:data===null||data===void 0?void 0:data.status,onChange:onChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Activate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:w-3/4 py-4 px-8 float-right\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-primary w-full border border-primary text-white px-3 py-2 font-medium rounded-full hover:bg-transparent hover:border-secondary hover:bg-secondary transition\",children:\"Update\"})})]})]})]})});};export default UpdateTour;","map":{"version":3,"names":["React","useEffect","useState","useParams","useAuth","Sidebar","Message","jsx","_jsx","jsxs","_jsxs","axios","require","UpdateTour","data","setData","message","setMessage","isLoading","setLoading","currentUser","id","onChange","e","target","name","value","get","concat","then","result","catch","error","console","log","create_by","displayName","email","create_at","Date","toLocaleDateString","handleSubmit","preventDefault","put","modifiedCount","className","children","title","onSubmit","htmlFor","placeholder","required","type","tour_date","image_url","rows","description","package_price","status"],"sources":["/Users/sanyattaneja/Downloads/VoyageVista-main/src/pages/Dashboard/UpdateTour.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useAuth } from \"../../components/Context/AuthContext\";\nimport Sidebar from \"../../components/Dashboard/Sidebar\";\nimport Message from \"../../components/Message/Message\";\nconst axios = require(\"axios\");\n\nconst UpdateTour = () => {\n  const [data, setData] = useState();\n  const [message, setMessage] = useState(\"\");\n  const [isLoading, setLoading] = useState(true);\n  const { currentUser } = useAuth();\n  const { id } = useParams();\n\n  const onChange = (e) => {\n    setData({ ...data, [e.target.name]: e.target.value });\n  };\n  useEffect(() => {\n    axios\n      .get(`https://shocking-cheateau-10764.herokuapp.com/tour/${id}`)\n      .then((result) => {\n        if (result.data) {\n          //   console.log(result.data);\n          setData(result.data);\n          setLoading(false); //stop loading when data is fetched\n        }\n      })\n      .catch((error) => console.log(error));\n  }, [id]);\n\n  const create_by = currentUser.displayName || currentUser.email;\n  const create_at = new Date().toLocaleDateString();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    data.create_by = create_by;\n    data.create_at = create_at;\n\n    // insert tour data\n    axios\n      .put(\n        `https://shocking-cheateau-10764.herokuapp.com/update-tour/${id}`,\n        data\n      )\n      .then((result) => {\n        if (result.data.modifiedCount > 0) {\n          setMessage(\"Tour Package updated success!\");\n        }\n      })\n      .catch((error) => console.log(error));\n  };\n  return (\n    <div className=\"container \">\n      <div className=\"flex justify-between\">\n        <Sidebar />\n\n        <main className=\"bg-gray-100 w-full mb-16\">\n          {/* Message */}\n          {message && (\n            <div className=\"md:w-2/4 py-4 px-8 float-right\">\n              <Message message={message} />\n            </div>\n          )}\n\n          <header className=\"px-8 py-8\">\n            {isLoading ? (\n              <div className=\"flex items-center justify-center mx-auto\">\n                <div className=\"w-10 h-10 border-t-4 border-b-4 border-green-900 rounded-full animate-spin\"></div>\n              </div>\n            ) : (\n              <h1 className=\"text-2xl font-semibold capitalize\">\n                Update Tour Package: {data?.title}\n              </h1>\n            )}\n          </header>\n\n          <form onSubmit={handleSubmit}>\n            <div className=\"py-4 flex px-8 justify-between items-center focus:outline-none\">\n              <label className=\"text-black\" htmlFor=\"title\">\n                Title:\n              </label>\n              <input\n                className=\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\"\n                placeholder=\"Enter Tour Title\"\n                value={data?.title}\n                onChange={onChange}\n                name=\"title\"\n                required\n              />\n            </div>\n            <div className=\"py-4 flex px-8 justify-between items-center focus:outline-none\">\n              <label className=\"text-black\" htmlFor=\"tour_date\">\n                Tour Date:\n              </label>\n              <input\n                className=\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\"\n                type=\"date\"\n                value={data?.tour_date}\n                onChange={onChange}\n                name=\"tour_date\"\n                required\n              />\n            </div>\n            <div className=\"py-4 flex px-8 justify-between items-center focus:outline-none\">\n              <label className=\"text-black\" htmlFor=\"image_url\">\n                Image url:\n              </label>\n              <input\n                className=\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\"\n                type=\"url\"\n                placeholder=\"Enter tour related image url\"\n                value={data?.image_url}\n                onChange={onChange}\n                name=\"image_url\"\n                required\n              />\n            </div>\n            <div className=\"py-4 flex px-8 justify-between items-center focus:outline-none\">\n              <label className=\"text-black\" htmlFor=\"description\">\n                Description:\n              </label>\n              <textarea\n                className=\"rounded-md md:w-3/4 focus:outline-none float-right px-4 mb-4 py-2\"\n                rows=\"4\"\n                placeholder=\"Description about tour\"\n                value={data?.description}\n                onChange={onChange}\n                name=\"description\"\n                required\n              />\n            </div>\n            <div className=\"py-4 flex px-8 justify-between items-center focus:outline-none\">\n              <label className=\"text-black\" htmlFor=\"package_price\">\n                Package price:\n              </label>\n              <input\n                className=\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\"\n                type=\"number\"\n                placeholder=\"Package price\"\n                value={data?.package_price}\n                onChange={onChange}\n                name=\"package_price\"\n                required\n              />\n            </div>\n\n            <div className=\"py-4 flex px-8 justify-between items-center focus:outline-none\">\n              <label className=\"text-black\" htmlFor=\"package_price\">\n                Status:\n              </label>\n\n              <select\n                name=\"status\"\n                id=\"status\"\n                className=\"rounded-full md:w-3/4 focus:outline-none float-right px-4 py-2\"\n                value={data?.status}\n                onChange={onChange}\n              >\n                <option value=\"active\">Activate</option>\n                <option value=\"pending\">Pending</option>\n              </select>\n            </div>\n\n            <div className=\"md:w-3/4 py-4 px-8 float-right\">\n              <button className=\"bg-primary w-full border border-primary text-white px-3 py-2 font-medium rounded-full hover:bg-transparent hover:border-secondary hover:bg-secondary transition\">\n                Update\n              </button>\n            </div>\n          </form>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateTour;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}